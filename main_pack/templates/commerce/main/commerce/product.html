{% extends "commerce/main/commerce/layout.html" %}

{% block content %}
  <div id="main-content" class="main-content">
    <div class="sumary-product single-layout">
      <div class="media">
        <ul class="biolife-carousel slider-for" data-slick='{"arrows":false,"dots":false,"slidesMargin":30,"slidesToShow":1,"slidesToScroll":1,"fade":true,"asNavFor":".slider-nav"}'>
          {% if resource.Images %}
            {% for image in resource.Images %}
              <li><img loading="lazy" src="{{resource.FilePathM}}" width="500" height="500"></li>
            {% endfor %}
          {% else %}
            <li><img loading="lazy" src="{{ url_for('static', filename='commerce/main/shop_icons/no_photo.png') }}" width="500" height="500"></li>
          {% endif %}
        </ul>
        <ul class="biolife-carousel slider-nav" data-slick='{"arrows":false,"dots":false,"centerMode":false,"focusOnSelect":true,"slidesMargin":10,"slidesToShow":4,"slidesToScroll":1,"asNavFor":".slider-for"}'>
          {% for image in resource.Images %}
            <li><img loading="lazy" src="{{resource.FilePathM}}" width="88" height="88"></li>          
          {% endfor %}
        </ul>
      </div>
      <div class="product-attribute">
        <h3 class="title">{{'' if resource.ResName==None else resource.ResName}}</h3>
        <div class="rating">
          <p class="star-rating"><span class="width-80percent"></span></p>
          {% for subcategory_child in subcategory_children %}
            {% if resource.ResCatId == subcategory_child.ResCatId %}
              <b class="category">{{_('Category')}}: {{subcategory_child.ResCatName}}</b>
            {% endif %}
          {% endfor %}
        </div>
        <span class="sku">#{{resource.ResRegNo}}</span>
        <p class="excerpt">{{'' if resource.ResDesc==None else resource.ResDesc}}</p>
        <div class="price">
          <ins>
            <span class="price-amount">
              <span class="currencySymbol">TMT</span>
              <div class="priceValue" ownerId="{{resource.ResId}}" value="{{resource.ResPriceValue}}">{{ resource.ResPriceValue }}</div>
            </span>
          </ins>
        </div>
        <div class="product-atts">
          {% if resource.Colors %}
            <div class="atts-item">
              <span class="title">{{_('Color')}}:</span>
              <ul class="color-list">
                {% for color in resource.Colors %}
                  <li class="color-item">
                    <a href="#" class="check-link"><span {% if color.ColorDesc %} title="{{ color.ColorDesc }}" {% endif %} class="symbol img-color" style="background: {{color.ColorCode}}"></span>{{color.ColorName}}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
          {% if resource.Sizes %}
            <div class="atts-item">
              <span class="title">{{_('Size')}}:</span>
              <ul class="size-list productSizesList">
                {% for size in resource.Sizes %}
                  <li>
                    <a class="c-link"><span {% if size.SizeDesc %} title="{{ size.SizeDesc }}" {% endif %} class="symbol" ownerId="{{resource.ResId}}" value="{{size.SizeId}}"></span>{{size.SizeName}}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
          {% if resource.Brand %}
            <div class="atts-item">
              <span class="title">{{_('Brand')}}:</span>
              <ul class="brand-list">
                <li>
                  <a class="c-link"><span {% if resource.Brand.BrandDesc %} title="{{resource.Brand.BrandDesc}}" {% endif %} class="symbol"></span>{{ resource.Brand.BrandName }}</a>
                </li>
              </ul>
            </div>
          {% endif %}

        </div>
      </div>
      <div class="action-form">
        <div class="quantity-box" style="display: none">
          <span class="title">{{_('Quantity')}}:</span>
          <div class="cont">
            <span value="{{resource.productQty}}" class="next nextQtyVal productQty" ownerId="{{resource.ResId}}">+</span>
            <span value="{{resource.productQty}}" class="prev prevQtyVal productQty" ownerId="{{resource.ResId}}">-</span>
            <div id="box">
              <span value="{{resource.productQty}}" class="uiQtyText productQty" ownerId="{{resource.ResId}}">{{ resource.productQty }}</span>
            </div>
          </div>
        </div>
        <div class="total-price-contain">
          <span class="title">{{_('Total Price')}}:</span>
          <p class="price">
            <span class="currencySymbol">TMT</span>
            <div class="productTotalPrice" ownerId="{{resource.ResId}}" value="{{resource.ResPriceValue}}">{{ resource.ResPriceValue*resource.productQty }}</div>
          </p>
        </div>
        <div class="buttons">
          <button class="btn add-to-cart-btn addToCart" ownerId="{{resource.ResId}}" onclick="$('.quantity-box').show('slow')">{{_('Add to cart')}}</button>
          <button class="btn add-to-cart-btn removeFromCart" ownerId="{{resource.ResId}}" style="display: none;" onclick="$('.quantity-box').hide('slow')">{{_('Remove')}}</button>
        </div>
      </div>
    </div>

    <!-- Tab info -->
    <div class="product-tabs single-layout biolife-tab-contain">
      <div class="tab-head">
        <ul class="tabs">
          <li class="tab-element active"><a href="#tab_1st" class="tab-link">{{_('Products Descriptions')}}</a></li>
          <li class="tab-element"><a href="#tab_2nd" class="tab-link">{{_('Additional information')}}</a></li>
        </ul>
      </div>
      <div class="tab-content">
        <div id="tab_1st" class="tab-contain desc-tab active">
          <p class="desc">{{'' if resource.ResFullDesc==None else resource.ResFullDesc}}</p>
        </div>
        <div id="tab_2nd" class="tab-contain additional-info-tab">
          <table class="tbl_attributes">
            <tbody>
              <tr>
                <th>{{_('Color')}}</th>
                <td><p>
                  {% for color in resource.Colors %}
                    {{color.ColorName}}
                  {% endfor %}
                </p></td>
              </tr>
              <tr>
                <th>{{_('Size')}}</th>
                  <td><p>
                    {% for size in resource.Sizes %}
                      {{size.SizeName}}
                    {% endfor %}
                  </p></td>
                </td>
              </tr>
              {% if resource.ResWidth %}
                <tr>
                  <th>{{_('Width')}}</th>
                    <td><p>
                      {{resource.ResWidth}}
                    </p></td>
                  </td>
                </tr>
              {% endif %}
              {% if resource.ResHeight %}
                <tr>
                  <th>{{_('Height')}}</th>
                    <td><p>
                      {{resource.ResHeight}}
                    </p></td>
                  </td>
                </tr>
              {% endif %}
              {% if resource.ResLength %}
                <tr>
                  <th>{{_('Length')}}</th>
                    <td><p>
                      {{resource.ResLength}}
                    </p></td>
                  </td>
                </tr>
              {% endif %}
              {% if resource.ResWeight %}
                <tr>
                  <th>{{_('Weight')}}</th>
                    <td><p>
                      {{resource.ResWeight}}
                    </p></td>
                  </td>
                </tr>
              {% endif %}
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}


{% block scripts %}
  <script type="text/javascript">
    window.setTimeout(function (){
      if($('.removeFromCart').css('display')!='none'){
        $('.quantity-box').show('slow');
      }      
    }, 500);
  </script>
{% endblock %}